name: one-stop-resume-engine

services:
  backend:
    build:
      context: ./backend
    ports:
      - "8000:8000"
    environment:
      APP_NAME: One Stop Resume Engine
      API_V1_PREFIX: /api/v1
      CORS_ORIGINS: http://localhost:5173,http://127.0.0.1:5173
      EMBEDDING_MODEL_NAME: sentence-transformers/all-MiniLM-L6-v2
      GMAIL_CREDENTIALS_PATH: /app/oauth/credentials.json
      GMAIL_TOKEN_PATH: /app/oauth/token.json
      GMAIL_RESUME_LABEL: ""
    volumes:
      - ./backend/oauth:/app/oauth
    restart: unless-stopped

  frontend:
    build:
      context: ./frontend
    ports:
      - "5173:80"
    depends_on:
      - backend
    restart: unless-stopped
